{% load static %}
<link rel="stylesheet" href="{% static 'nav.css' %}">
{% block navbar %}
<ul class="navbar">
    <li><a href="{% url 'home' %}">Home</a></li>
    {% if user.is_authenticated %}
       <li>
  <label for="lang-select">Language:</label>
  <select id="lang-select" onchange="if(this.value) window.location.href=this.value;">
    <option value="">-- Select --</option>
    <option value="{% url 'take_quiz' 'PYTHON' %}">Python</option>
    <option value="{% url 'take_quiz' 'JAVASCRIPT' %}">JavaScript</option>
    <option value="{% url 'take_quiz' 'C' %}">C</option>
  </select>
</li>

        <li>Welcome {{ user.username }}</li>
        <li><a href="{% url 'logout' %}">Logout</a></li>
        <li>
  <form method="get" action="">
    <select id="lang" name="language">
      <option value="Python">Python</option>
      <option value="JavaScript">JavaScript</option>
      <option value="C">C</option>
    </select>

    <select id="lvl" name="level">
      <option value="beginner" selected>Beginner</option>
      <option value="intermediate">Intermediate</option>
      <option value="advanced">Advanced</option>
    </select>

    <button type="button" onclick="
  const lang = document.getElementById('lang').value;
  const lvl = document.getElementById('lvl').value;
  window.location.href = `{% url 'ai_quiz' 'LANG' 'LEVEL' %}`
    .replace('LANG', lang)
    .replace('LEVEL', lvl);
">AI Based Quiz</button>

  </form>
</li>


    {% else %}
        <li><a href="{% url 'login' %}">Login</a></li>
        <li><a href="{% url 'register' %}">Register</a></li>
    {% endif %}
</ul>
{% endblock navbar %}
